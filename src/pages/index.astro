---
export const prerender = true
import Root from '@layouts/Root.astro'
import { getCollection } from 'astro:content'
import { wrapLinesInPTags } from '@src/utils.ts'

const prompts = await getCollection('prompt')
---

<Root classes="px-3 sm:px-6">
	<div class="mb-24 text-center font-extrabold text-3xl text-gray-800">
		A 100% free and growing collection of AI prompts.
	</div>
	<div class="max-w-[1200px] mx-auto">
		<div class="grid gap-6 grid-cols-[repeat(auto-fill,minmax(300px,2fr))]">
			{
				prompts.map((prompt) => (
					<a
						href={`/prompt/${prompt.slug}/`}
						class="border p-6 hover:ring-1"
						rel="prefetch"
					>
						<div class="prose prose-headings:font-[700]">
							<h3 class="leading-tight">{prompt.data.title}</h3>
							<div>
								<Fragment set:html={wrapLinesInPTags(prompt.data.prompt)} />
							</div>
						</div>
					</a>
				))
			}
		</div>
	</div>
</Root>
